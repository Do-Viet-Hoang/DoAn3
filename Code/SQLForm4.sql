CREATE DATABASE BanDienThoai
CREATE TABLE NhaCungCap
(
maNhaCC CHAR(10)PRIMARY KEY,
tenNhaCC NVARCHAR(50) NOT NULL,
diaChi NVARCHAR(50) NOT NULL,
SDT CHAR(11)NOT NULL
)
CREATE TABLE HoaDonNhap
(
maHoaDonNhap CHAR(10) PRIMARY KEY,
maNhaCC CHAR(10) FOREIGN KEY (maNhaCC) REFERENCES NhaCungCap(maNhaCC) ON DELETE CASCADE ON UPDATE CASCADE,
ngayBan DATETIME
)	

CREATE TABLE loaiDT
(
maLoaiDT CHAR(10) PRIMARY KEY,
maHoaDonNhap CHAR(10) FOREIGN KEY (maHoaDonNhap) REFERENCES HoaDonNhap(maHoaDonNhap) ON DELETE CASCADE ON UPDATE CASCADE,
tenLoaiDT NVARCHAR(50) NOT NULL,
ngaySanXuat Datetime
)
CREATE TABLE chiTietHoaDonNh
(
maHoaDonNhap CHAR(10) FOREIGN KEY (maHoaDonNhap) REFERENCES HoaDonNhap(maHoaDonNhap) ON DELETE CASCADE ON UPDATE CASCADE,
maLoaiDT CHAR(10) FOREIGN KEY (maLoaiDT) REFERENCES loaiDT(maLoaiDT),
soLuong INT,
giaBan INT
)	
CREATE TABLE KhachHang
(
tenTk CHAR(18) PRIMARY KEY,
matKhau CHAR(18) NOT NULL,
tenKh NVARCHAR(50) NOT NULL,
diaChi NVARCHAR(50) NOT NULL,
SDT CHAR(11) NOT NULL,
loaiTk int
)
CREATE TABLE DienThoai
(
maSp CHAR(10) PRIMARY KEY,
maLoaiDT CHAR(10) FOREIGN KEY (maLoaiDT) REFERENCES loaiDT(maLoaiDT)  ON DELETE CASCADE ON UPDATE CASCADE,
tenSp NVARCHAR(50) NOT NULL,
hangSp NVARCHAR(30)NOT NULL,
gia INT,
manHinh NVARCHAR(20) NOT NULL,
heDieuhanh NVARCHAR(20)NOT NULL,
CPU NVARCHAR(20) NOT NULL,
cameraTruoc NVARCHAR(20)NOT NULL,
cameraSau NVARCHAR(20)NOT NULL,
RAM CHAR(10) NOT NULL,
boNho CHAR(10)NOT NULL,
Sim CHAR(10)NOT NULL,
Pin CHAR(10)NOT NULL,
trangThai NVARCHAR(50),
hinhAnh CHAR(30)NOT NULL
)
CREATE TABLE HoaDonBan
(
maHoaDonBan CHAR(10) PRIMARY KEY,
tenTk CHAR(18) FOREIGN KEY (tenTk) REFERENCES KhachHang(tenTk) ON DELETE CASCADE ON UPDATE CASCADE,
ngayBan DATETIME,
tenNn NVARCHAR(50) NOT NULL,
dcNn NVARCHAR(100) NOT NULL,
sdtNn CHAR(12) NOT NULL,
trangThai NVARCHAR(100) NOT NULL,
chuThich NVARCHAR(100)
)
CREATE TABLE chiTietHoaDonBan
(
maHoaDonBan CHAR(10) FOREIGN KEY (maHoaDonBan) REFERENCES HoaDonBan(maHoaDonBan) ON DELETE CASCADE ON UPDATE CASCADE,
maSp CHAR(10) FOREIGN KEY (maSp) REFERENCES DienThoai(maSp) ON DELETE CASCADE ON UPDATE CASCADE,
soLuong INT,
giaBan INT
)



-- Thêm dữ liệu
-- nhà cung cấp
INSERT INTO NhaCungCap VALUES (1, 'APPLE', 'USA', '0987654321')
INSERT INTO NhaCungCap VALUES (2, 'SAMSUNG', N'Hàn Quốc', '0987654321')
INSERT INTO NhaCungCap VALUES (3, 'XIAOMI', N'Trung Quốc', '0987654321')
INSERT INTO NhaCungCap VALUES (4, 'OPPO', N'Trung Quốc', '0987654321')
-- Hóa đơn nhập
INSERT INTO HoaDonNhap VALUES (1, 1, 2019-10-9)
INSERT INTO HoaDonNhap VALUES (2, 2, 2019-10-9)
INSERT INTO HoaDonNhap VALUES (3, 3, 2019-10-9)
INSERT INTO HoaDonNhap VALUES (4, 4, 2019-10-9)
-- Loại sản phẩm
INSERT INTO loaiDT VALUES (1, 1,'IPHONE',2019-10-9)
INSERT INTO loaiDT VALUES (2, 2,'SAMSUNG',2019-10-9)
INSERT INTO loaiDT VALUES (3, 3,'XIAOMI',2019-10-9)
INSERT INTO loaiDT VALUES (4, 4,'OPPO',2019-10-9)
-- Điện thoại
INSERT INTO DienThoai VALUES (1, 1, 'IPhone 11 Pro Max', 'IPHONE', 29000000, 'OLED', 'IOS', 'A13', '12MP', '6MP','4G', '64GB', '1 SIM', '3096', 'hot', 'ippromax2.jpg')
INSERT INTO DienThoai VALUES (2, 2, 'Samsung Galaxy Note 10', 'SAMSUNG', 19000000, 'OLED', 'Android', 'A13', '12MP', '6MP','4G', '64GB', '1 SIM', '3096', 'hot', 'ssnot10.jpg')
INSERT INTO DienThoai VALUES (3, 3, 'Xiaomi Mi 8', 'XIAOMI', 19000000, 'OLED', 'Android', 'A13', '12MP', '6MP','4G', '64GB', '1 SIM', '3096', 'hot', 'redmi8.jpg')
INSERT INTO DienThoai VALUES (4, 4, 'OPPO Reno', 'OPPO', 19000000, 'OLED', 'Android', 'A13', '12MP', '6MP','4G', '64GB', '1 SIM', '3096', 'hot', 'opporeno0.jpg')

INSERT INTO DienThoai VALUES (5, 1, 'IPhone 11 Pro', 'IPHONE', 27000000, 'OLED', 'IOS', 'A13', '12MP', '6MP','4G', '64GB', '1 SIM', '3096', 'new', 'ip11pro.jpg')
INSERT INTO DienThoai VALUES (6, 2, 'Samsung Galaxy Note 10+', 'SAMSUNG', 19000000, 'OLED', 'Android', 'A13', '12MP', '6MP','4G', '64GB', '1 SIM', '3096', 'new', 's10.jpg')
INSERT INTO DienThoai VALUES (7, 3, 'Xiaomi mi 9', 'XIAOMI', 19000000, 'OLED', 'Android', 'A13', '12MP', '6MP','4G', '64GB', '1 SIM', '3096', 'new', 'mi9se.jpg')
INSERT INTO DienThoai VALUES (8, 4, 'OPPO A9', 'OPPO', 19000000, 'OLED', 'Android', 'A13', '12MP', '6MP','4G', '64GB', '1 SIM', '3096', 'new', 'a9.jpg')